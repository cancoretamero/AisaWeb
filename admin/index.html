<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow,noarchive">
    <title>AISA Content Studio</title>

    <!-- FUENTES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- ESTILOS LOCALES -->
    <link rel="stylesheet" href="./admin.css">

    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Poppins"', 'sans-serif'],
                        display: ['"Montserrat"', 'sans-serif'],
                    },
                    colors: {
                        dark: {
                            bg: '#030303',
                            surface: '#0A0A0A',
                            panel: '#111111',
                        },
                        accent: {
                            gold: '#FACC15',
                            goldGlow: 'rgba(250, 204, 21, 0.5)',
                            orange: '#F97316',
                        }
                    },
                    backgroundImage: {
                        'glass-gradient': 'linear-gradient(145deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.01) 100%)',
                        'glass-card': 'linear-gradient(180deg, rgba(30, 30, 30, 0.6) 0%, rgba(10, 10, 10, 0.8) 100%)',
                        'gold-gradient': 'linear-gradient(135deg, #FACC15 0%, #EAB308 100%)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-glow': 'pulseGlow 2s infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(20px) scale(0.98)' }, '100%': { opacity: '1', transform: 'translateY(0) scale(1)' } },
                        pulseGlow: { '0%, 100%': { boxShadow: '0 0 10px rgba(250, 204, 21, 0.1)' }, '50%': { boxShadow: '0 0 20px rgba(250, 204, 21, 0.3)' } },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-5px)' } }
                    },
                    boxShadow: {
                        'glow': '0 0 20px -5px rgba(250, 204, 21, 0.3)',
                        'glass': '0 8px 32px 0 rgba(0, 0, 0, 0.37)',
                    }
                }
            }
        }
    </script>

    <!-- LIBRERÍAS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ajv@8.12.0/dist/ajv.min.js"></script>

    <!-- Uploads -->
    <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
    <script src="https://unpkg.com/filepond/dist/filepond.js"></script>

    <style>
        /* BASE & GLASSMORPHISM */
        body {
            background-color: #030303;
            background-image:
                radial-gradient(circle at 15% 50%, rgba(250, 204, 21, 0.03), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(249, 115, 22, 0.03), transparent 25%);
            color: #e5e7eb;
            overflow: hidden;
        }

        .glass-panel {
            background: rgba(20, 20, 20, 0.4);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .glass-card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass-card:hover {
            border-color: rgba(250, 204, 21, 0.3);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5);
        }

        .glass-input {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s;
        }
        .glass-input:focus {
            border-color: #FACC15;
            box-shadow: 0 0 0 2px rgba(250, 204, 21, 0.1);
            background: rgba(0, 0, 0, 0.4);
            outline: none;
        }

        /* Nav Item Styles */
        .nav-item {
            position: relative;
            transition: all 0.3s ease;
        }
        .nav-item::before {
            content: '';
            position: absolute;
            left: -12px;
            top: 50%;
            transform: translateY(-50%) scaleY(0);
            width: 3px;
            height: 20px;
            background: #FACC15;
            border-radius: 0 4px 4px 0;
            transition: transform 0.3s ease;
            opacity: 0;
        }
        .nav-item.active-nav {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }
        .nav-item.active-nav::before {
            transform: translateY(-50%) scaleY(1);
            opacity: 1;
        }
        .nav-item:hover i {
            transform: scale(1.1);
            color: #FACC15;
        }
        .nav-item i { transition: transform 0.3s ease, color 0.3s ease; }

        /* SCROLLBARS */
        ::-webkit-scrollbar { width: 5px; height: 5px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.3); }

        /* VIEW TRANSITIONS */
        .view-section {
            display: flex; flex-direction: column;
            position: absolute; inset: 0;
            overflow: hidden;
            transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.2, 0, 0, 1);
        }
        .view-hidden {
            opacity: 0; pointer-events: none; z-index: 0;
            transform: scale(0.96) translateY(10px);
        }
        .view-active {
            opacity: 1; pointer-events: auto; z-index: 10;
            transform: scale(1) translateY(0);
        }

        /* CUSTOM UTILS */
        .text-glow { text-shadow: 0 0 20px rgba(250, 204, 21, 0.5); }
        .border-gradient-b { border-bottom: 1px solid transparent; border-image: linear-gradient(to right, transparent, rgba(255,255,255,0.1), transparent) 1; }
    </style>
</head>
<body id="app" data-app="aisa-admin" class="flex h-screen w-screen selection:bg-accent-gold selection:text-black font-sans bg-dark-bg">

    <!-- 1. MODERN SIDEBAR -->
    <aside id="sidebar" class="w-72 flex-shrink-0 border-r border-white/5 bg-[#030303]/80 backdrop-blur-xl flex flex-col z-50 relative">
        <!-- Decoration Top -->
        <div class="absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-accent-gold/50 to-transparent opacity-50"></div>

        <!-- Logo -->
        <div class="h-20 flex items-center px-8">
            <div class="flex items-center gap-3 group cursor-pointer">
                <div class="w-9 h-9 rounded-xl bg-gold-gradient shadow-glow flex items-center justify-center text-black font-bold font-display text-xl transform group-hover:rotate-12 transition-transform duration-500">A</div>
                <div class="flex flex-col">
                    <span class="font-display font-bold text-white tracking-widest text-sm leading-none">AISA</span>
                    <span class="text-[10px] text-accent-gold uppercase tracking-[0.2em] opacity-80 group-hover:tracking-[0.3em] transition-all duration-500">Studio</span>
                </div>
            </div>
        </div>

        <!-- Nav -->
        <nav class="flex-1 overflow-y-auto py-6 px-4 space-y-1">
            <button data-action="switch-view" data-view="dashboard" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group active-nav">
                <i class="fa-solid fa-gauge-high w-5 text-center"></i>
                Dashboard
            </button>

            <div class="mt-8 mb-3 px-4 flex items-center gap-2">
                <span class="text-[10px] uppercase tracking-widest text-gray-600 font-bold">Gestión</span>
                <div class="h-[1px] flex-1 bg-white/5"></div>
            </div>

            <button data-action="switch-view" data-view="pages" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                <i class="fa-regular fa-file w-5 text-center"></i>
                Páginas
            </button>
            <button data-action="switch-view" data-view="news" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                <i class="fa-regular fa-newspaper w-5 text-center"></i>
                Noticias
                <span class="ml-auto w-2 h-2 rounded-full bg-accent-gold animate-pulse"></span>
            </button>

            <div class="mt-8 mb-3 px-4 flex items-center gap-2">
                <span class="text-[10px] uppercase tracking-widest text-gray-600 font-bold">Biblioteca</span>
                <div class="h-[1px] flex-1 bg-white/5"></div>
            </div>

            <button data-action="switch-view" data-view="media" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                <i class="fa-regular fa-images w-5 text-center"></i>
                Media
            </button>
            <button data-action="switch-view" data-view="docs" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                <i class="fa-solid fa-file-pdf w-5 text-center"></i>
                Documentos
            </button>

            <div class="mt-8 mb-3 px-4 flex items-center gap-2">
                <span class="text-[10px] uppercase tracking-widest text-gray-600 font-bold">Sistema</span>
                <div class="h-[1px] flex-1 bg-white/5"></div>
            </div>

            <button data-action="switch-view" data-view="seo" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                <i class="fa-solid fa-magnifying-glass w-5 text-center"></i>
                SEO
            </button>
            <button data-action="switch-view" data-view="settings" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                <i class="fa-solid fa-sliders w-5 text-center"></i>
                Ajustes
            </button>
        </nav>

        <!-- User Profile Card -->
        <div class="p-4">
            <div class="glass-card rounded-2xl p-3 flex items-center gap-3 group cursor-pointer border-none bg-white/5 hover:bg-white/10">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-gray-700 to-black flex items-center justify-center shadow-lg border border-white/10 group-hover:border-accent-gold/50 transition-colors">
                    <span class="text-xs font-bold text-white">AD</span>
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-xs font-bold text-white truncate group-hover:text-accent-gold transition-colors">Admin User</p>
                    <p class="text-[10px] text-gray-500 truncate">Super Admin</p>
                </div>
                <i class="fa-solid fa-gear text-gray-600 group-hover:text-white transition-colors text-xs"></i>
            </div>
        </div>
    </aside>

    <!-- 2. MAIN CONTENT AREA -->
    <main class="flex-1 flex flex-col min-w-0 bg-dark-bg relative overflow-hidden">

        <!-- Decoration Background Blobs -->
        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-accent-gold/5 rounded-full blur-[120px] pointer-events-none animate-float"></div>
        <div class="absolute bottom-0 left-0 w-[500px] h-[500px] bg-accent-orange/5 rounded-full blur-[120px] pointer-events-none" style="animation: float 8s ease-in-out infinite reverse;"></div>

        <!-- FLOATING TOPBAR -->
        <header id="topbar" class="h-20 flex items-center justify-between px-8 z-40 relative">
            <!-- Search Bar -->
            <div class="flex-1 max-w-xl">
                <div class="relative group">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <i class="fa-solid fa-search text-gray-500 group-focus-within:text-accent-gold transition-colors"></i>
                    </div>
                    <input type="text" id="globalSearch" placeholder="Escribe para buscar (Cmd + K)..."
                           class="block w-full pl-11 pr-4 py-2.5 rounded-2xl bg-white/5 border border-white/5 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-accent-gold/50 focus:bg-white/10 focus:border-accent-gold/30 transition-all shadow-lg backdrop-blur-sm">
                </div>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-6 ml-6">
                <!-- Environment Status -->
                <div class="hidden lg:flex items-center gap-3 px-4 py-1.5 rounded-full bg-white/5 border border-white/5 backdrop-blur-sm">
                    <div class="flex items-center gap-2">
                        <span id="dirtyIndicator" class="relative flex h-2 w-2">
                          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                          <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                        </span>
                        <span id="envLabel" class="text-[10px] font-bold tracking-widest text-gray-400 uppercase">Production</span>
                    </div>
                </div>

                <div class="h-6 w-[1px] bg-white/10"></div>

                <!-- Primary Buttons -->
                <div class="flex items-center gap-3">
                    <button id="btnSaveDraft" class="group relative px-4 py-2 rounded-xl overflow-hidden bg-white/5 border border-white/10 hover:border-white/20 transition-all">
                        <div class="absolute inset-0 w-0 bg-white/10 transition-all duration-[250ms] ease-out group-hover:w-full"></div>
                        <span class="relative text-xs font-bold text-gray-300 group-hover:text-white uppercase tracking-wider flex items-center gap-2">
                            <i class="fa-regular fa-floppy-disk"></i> Guardar
                        </span>
                    </button>

                    <button id="btnPreview" class="group relative px-4 py-2 rounded-xl overflow-hidden bg-white/5 border border-white/10 hover:border-accent-gold/30 transition-all">
                        <span class="relative text-xs font-bold text-accent-gold uppercase tracking-wider flex items-center gap-2 group-hover:scale-105 transition-transform">
                            <i class="fa-regular fa-eye"></i> Preview
                        </span>
                    </button>

                    <button id="btnPublish" class="relative px-6 py-2.5 rounded-xl bg-gold-gradient shadow-glow text-black text-xs font-bold uppercase tracking-wider hover:scale-105 hover:shadow-[0_0_30px_rgba(250,204,21,0.4)] transition-all flex items-center gap-2">
                        <i class="fa-solid fa-rocket"></i> Publicar
                    </button>
                </div>
            </div>
        </header>

        <!-- VIEWPORT CONTAINER -->
        <div id="viewport" class="flex-1 relative mx-4 mb-4 rounded-3xl border border-white/5 bg-[#080808]/50 backdrop-blur-md overflow-hidden shadow-2xl">

            <!-- ================= VIEW: DASHBOARD ================= -->
            <section data-view="dashboard" id="view-dashboard" class="view-section view-active p-8 lg:p-12 overflow-y-auto">
                <!-- Welcome Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-12 animate-slide-up">
                    <div>
                        <h1 class="text-4xl md:text-5xl font-display font-bold text-white mb-2 tracking-tight">
                            Hola, <span class="text-transparent bg-clip-text bg-gold-gradient">Admin</span>
                        </h1>
                        <p class="text-gray-400 text-sm">Aquí tienes el resumen de tu ecosistema digital.</p>
                    </div>
                    <div class="text-right hidden md:block">
                        <p class="text-[10px] text-gray-500 uppercase tracking-widest mb-1">Último Despliegue</p>
                        <p id="lastDeployLabel" class="text-white font-mono text-sm">v2.4.0 • Hace 2h</p>
                    </div>
                </div>

                <!-- Bento Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12 animate-slide-up" style="animation-delay: 0.1s;">
                    <!-- Card 1: Pending Changes -->
                    <div class="glass-card p-6 rounded-3xl relative overflow-hidden group">
                        <div class="absolute top-0 right-0 p-6 opacity-50 group-hover:opacity-100 group-hover:scale-110 transition-all">
                            <i class="fa-solid fa-pen-to-square text-4xl text-white/10"></i>
                        </div>
                        <p class="text-gray-400 text-xs font-bold uppercase tracking-widest mb-4">Borradores</p>
                        <h3 class="text-4xl font-bold text-white mb-2 group-hover:text-accent-gold transition-colors">0</h3>
                        <div class="w-full bg-white/10 h-1 mt-4 rounded-full overflow-hidden">
                            <div class="h-full bg-accent-gold w-0 transition-all duration-1000 group-hover:w-1/2"></div>
                        </div>
                    </div>

                    <!-- Card 2: Health -->
                    <div class="glass-card p-6 rounded-3xl relative overflow-hidden group">
                        <div class="absolute top-0 right-0 p-6 opacity-50 group-hover:opacity-100 group-hover:scale-110 transition-all">
                            <i class="fa-solid fa-heart-pulse text-4xl text-emerald-500/20"></i>
                        </div>
                        <p class="text-gray-400 text-xs font-bold uppercase tracking-widest mb-4">Salud del Sitio</p>
                        <h3 class="text-4xl font-bold text-white mb-2">98%</h3>
                        <p class="text-xs text-emerald-500 flex items-center gap-1">
                            <i class="fa-solid fa-circle-check"></i> Operativo
                        </p>
                    </div>

                    <!-- Card 3: Storage (Simulated Chart) -->
                    <div class="glass-card p-6 rounded-3xl col-span-1 md:col-span-2 relative overflow-hidden flex flex-col justify-between group">
                        <div class="flex justify-between items-start z-10">
                            <div>
                                <p class="text-gray-400 text-xs font-bold uppercase tracking-widest mb-1">Almacenamiento Media</p>
                                <h3 class="text-2xl font-bold text-white">4.2 GB <span class="text-sm text-gray-500 font-normal">/ 10 GB</span></h3>
                            </div>
                            <button class="w-8 h-8 rounded-full bg-white/5 hover:bg-white/20 flex items-center justify-center text-white transition-colors">
                                <i class="fa-solid fa-arrow-right -rotate-45 text-xs"></i>
                            </button>
                        </div>
                        <!-- Decorative Bar Chart CSS -->
                        <div class="flex items-end gap-2 h-16 mt-4 opacity-50 group-hover:opacity-80 transition-opacity">
                            <div class="w-full bg-white/10 rounded-t-sm h-[40%] hover:bg-accent-gold/50 transition-all"></div>
                            <div class="w-full bg-white/10 rounded-t-sm h-[70%] hover:bg-accent-gold/50 transition-all"></div>
                            <div class="w-full bg-white/10 rounded-t-sm h-[50%] hover:bg-accent-gold/50 transition-all"></div>
                            <div class="w-full bg-accent-gold rounded-t-sm h-[80%] shadow-glow"></div>
                            <div class="w-full bg-white/10 rounded-t-sm h-[60%] hover:bg-accent-gold/50 transition-all"></div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions Grid -->
                <h2 class="text-lg font-bold text-white mb-6 animate-slide-up" style="animation-delay: 0.2s;">Acciones Rápidas</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 animate-slide-up" style="animation-delay: 0.2s;">

                    <!-- B1 FIX: antes era onclick a una <section>; ahora data-action/data-view -->
                    <button data-action="switch-view" data-view="news" class="glass-card p-4 rounded-2xl flex items-center gap-4 group text-left">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-900 to-black border border-white/10 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-lg">
                            <i class="fa-solid fa-pen-nib text-purple-400"></i>
                        </div>
                        <div>
                            <span class="block text-sm font-bold text-white group-hover:text-purple-400 transition-colors">Escribir Noticia</span>
                            <span class="block text-xs text-gray-500">Publicar en el blog</span>
                        </div>
                        <i class="fa-solid fa-chevron-right ml-auto text-gray-700 group-hover:text-white transition-colors"></i>
                    </button>

                    <button data-action="switch-view" data-view="pages" class="glass-card p-4 rounded-2xl flex items-center gap-4 group text-left">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-900 to-black border border-white/10 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-lg">
                            <i class="fa-solid fa-wand-magic-sparkles text-blue-400"></i>
                        </div>
                        <div>
                            <span class="block text-sm font-bold text-white group-hover:text-blue-400 transition-colors">Editar Home</span>
                            <span class="block text-xs text-gray-500">Modificar landing page</span>
                        </div>
                        <i class="fa-solid fa-chevron-right ml-auto text-gray-700 group-hover:text-white transition-colors"></i>
                    </button>

                    <button data-action="switch-view" data-view="media" class="glass-card p-4 rounded-2xl flex items-center gap-4 group text-left">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-900 to-black border border-white/10 flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-lg">
                            <i class="fa-solid fa-cloud-arrow-up text-emerald-400"></i>
                        </div>
                        <div>
                            <span class="block text-sm font-bold text-white group-hover:text-emerald-400 transition-colors">Subir Archivos</span>
                            <span class="block text-xs text-gray-500">PDFs o Imágenes</span>
                        </div>
                        <i class="fa-solid fa-chevron-right ml-auto text-gray-700 group-hover:text-white transition-colors"></i>
                    </button>
                </div>
            </section>

            <!-- ================= VIEW: PAGES ================= -->
            <section data-view="pages" id="view-pages" class="view-section view-hidden flex-row bg-[#080808]">
                <!-- List Panel -->
                <div class="w-80 border-r border-white/5 bg-[#030303]/50 flex flex-col backdrop-blur-sm z-20">
                    <div class="p-6 border-b border-white/5 flex justify-between items-center">
                        <h2 class="text-sm font-bold text-white uppercase tracking-widest">Estructura</h2>
                        <button id="btnNewPage" class="w-8 h-8 rounded-lg bg-white/5 hover:bg-accent-gold hover:text-black text-gray-400 transition-all flex items-center justify-center"><i class="fa-solid fa-plus"></i></button>
                    </div>
                    <div class="p-4">
                        <div class="relative">
                            <i class="fa-solid fa-filter absolute left-3 top-1/2 -translate-y-1/2 text-gray-600 text-xs"></i>
                            <input id="pageFilter" type="text" placeholder="Filtrar páginas..." class="w-full glass-input rounded-xl pl-9 pr-3 py-2 text-xs">
                        </div>
                    </div>
                    <div class="flex-1 overflow-y-auto px-2 pb-4 space-y-1">
                        <table class="w-full text-left">
                            <tbody id="pageListTableBody">
                                <!-- Template Injected -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Editor Area -->
                <div class="flex-1 flex flex-col relative bg-grid-pattern">
                    <!-- Editor Toolbar -->
                    <div class="h-14 border-b border-white/5 flex items-center justify-between px-6 bg-[#080808]/80 backdrop-blur z-20">
                        <div class="flex items-center gap-3">
                            <div class="w-2 h-2 rounded-full bg-accent-gold shadow-[0_0_10px_#FACC15]"></div>
                            <span id="currentPageLabel" class="text-sm font-bold text-white tracking-wide">Selecciona una página</span>
                        </div>
                        <div class="flex bg-white/5 p-1 rounded-lg">
                            <button class="px-3 py-1 rounded text-xs text-white bg-white/10 shadow-sm"><i class="fa-solid fa-desktop"></i></button>
                            <button class="px-3 py-1 rounded text-xs text-gray-500 hover:text-white transition-colors"><i class="fa-solid fa-mobile-screen"></i></button>
                        </div>
                    </div>

                    <div class="flex-1 flex overflow-hidden">
                        <!-- Outline -->
                        <div class="w-72 border-r border-white/5 bg-[#050505] flex flex-col hidden lg:flex z-10">
                            <div class="p-4 text-xs font-bold text-gray-500 uppercase tracking-widest bg-[#080808]">Bloques</div>
                            <div id="blockOutline" class="flex-1 overflow-y-auto p-3 space-y-2">
                                <!-- Blocks -->
                            </div>
                        </div>

                        <!-- Canvas -->
                        <div class="flex-1 bg-[#111] overflow-auto relative flex items-start justify-center p-8 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]">
                            <div id="canvas" class="w-full max-w-5xl min-h-[600px] bg-white rounded-xl shadow-2xl overflow-hidden relative transform transition-all duration-500 ring-1 ring-white/10">
                                <div class="absolute inset-0 flex items-center justify-center text-gray-400 bg-gray-50">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl">
                                            <i class="fa-regular fa-image"></i>
                                        </div>
                                        <p class="font-medium">Vista Previa</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Properties -->
                        <div id="propertiesPanel" class="w-80 border-l border-white/5 bg-[#050505] flex flex-col z-10 shadow-xl">
                            <div class="p-4 border-b border-white/5 flex justify-between items-center bg-[#080808]">
                                <span class="text-xs font-bold text-gray-500 uppercase tracking-widest">Editor</span>
                            </div>
                            <div id="propBody" class="flex-1 overflow-y-auto p-6 space-y-6">
                                <p class="text-xs text-gray-600 text-center mt-20">Selecciona un bloque para ver sus propiedades.</p>
                            </div>

                            <!-- B2: Footer con Revertir + Aplicar -->
                            <div class="p-4 border-t border-white/5 bg-[#080808] flex gap-3">
                              <button id="btnRevertBlock"
                                class="flex-1 py-3 bg-white/5 text-white text-xs font-bold rounded-xl uppercase hover:bg-white/10 transition-colors border border-white/10">
                                Revertir
                              </button>

                              <button id="btnApplyBlock"
                                class="flex-1 py-3 bg-white text-black text-xs font-bold rounded-xl uppercase hover:bg-accent-gold transition-colors shadow-lg">
                                Aplicar Cambios
                              </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ================= VIEW: NEWS ================= -->
            <section data-view="news" id="view-news" class="view-section view-hidden p-8 overflow-y-auto">
                <div class="max-w-7xl mx-auto w-full">
                    <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                        <div>
                            <h2 class="text-3xl font-display font-bold text-white mb-2">Noticias</h2>
                            <p class="text-sm text-gray-400">Gestiona el blog corporativo y comunicados de prensa.</p>
                        </div>
                        <button id="btnNewNews" class="px-6 py-3 bg-white text-black text-xs font-bold uppercase tracking-widest rounded-xl hover:bg-accent-gold transition-all shadow-glow flex items-center gap-2">
                            <i class="fa-solid fa-plus"></i> Nueva Noticia
                        </button>
                    </div>

                    <div class="glass-panel rounded-2xl overflow-hidden shadow-2xl">
                        <table class="w-full text-left">
                            <thead class="bg-white/5 border-b border-white/5">
                                <tr>
                                    <th class="p-5 text-xs font-bold text-gray-400 uppercase tracking-wider">Artículo</th>
                                    <th class="p-5 text-xs font-bold text-gray-400 uppercase tracking-wider">Fecha</th>
                                    <th class="p-5 text-xs font-bold text-gray-400 uppercase tracking-wider">Estado</th>
                                    <th class="p-5 text-right text-xs font-bold text-gray-400 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="newsTableBody" class="divide-y divide-white/5">
                                <!-- JS Content -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Editor Section Placeholder -->
                    <div id="newsEditor" class="mt-8 hidden animate-slide-up">
                        <div class="glass-panel p-8 rounded-2xl border border-accent-gold/20">
                            <!-- JS inject -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- ================= VIEW: MEDIA ================= -->
            <section data-view="media" id="view-media" class="view-section view-hidden p-8 overflow-y-auto">
                <div class="max-w-[1600px] mx-auto w-full h-full flex flex-col">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-3xl font-display font-bold text-white">Media Library</h2>
                        <div class="flex bg-white/5 p-1 rounded-xl">
                            <button class="px-4 py-2 rounded-lg bg-white/10 text-white text-xs font-bold uppercase shadow-sm">Grid</button>
                            <button class="px-4 py-2 rounded-lg text-gray-500 hover:text-white text-xs font-bold uppercase transition-colors">List</button>
                        </div>
                    </div>

                    <div id="mediaUploadDropzone" class="mb-8 border-2 border-dashed border-white/10 rounded-3xl p-8 text-center hover:border-accent-gold/50 hover:bg-white/5 transition-all cursor-pointer group">
                        <div class="w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-cloud-arrow-up text-2xl text-gray-400 group-hover:text-accent-gold"></i>
                        </div>
                        <p class="text-sm font-bold text-white">Arrastra archivos aquí o haz click</p>
                        <p class="text-xs text-gray-500 mt-2">Soporta JPG, PNG, PDF, SVG</p>
                        <input type="file" class="hidden" multiple>
                    </div>

                    <div id="mediaGrid" class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-6 pb-20">
                        <!-- Template Items -->
                    </div>
                </div>
            </section>

            <!-- ================= VIEW: DOCS ================= -->
            <section data-view="docs" id="view-docs" class="view-section view-hidden p-8 overflow-y-auto">
                 <div class="max-w-6xl mx-auto w-full">
                    <div class="flex justify-between items-center mb-8">
                        <div>
                            <h2 class="text-3xl font-display font-bold text-white mb-2">Documentos</h2>
                            <p class="text-sm text-gray-400">Gestión centralizada de PDFs y reportes.</p>
                        </div>
                        <button id="btnUploadDocs" class="px-6 py-3 bg-white/10 border border-white/10 text-white text-xs font-bold uppercase tracking-widest rounded-xl hover:bg-white hover:text-black transition-all">
                            Subir PDF
                        </button>
                    </div>

                    <!-- B3: Dropzone Docs -->
                    <div id="docsUploadDropzone"
                      class="mb-8 border-2 border-dashed border-white/10 rounded-3xl p-8 text-center hover:border-accent-gold/50 hover:bg-white/5 transition-all cursor-pointer group">
                      <div class="w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-file-arrow-up text-2xl text-gray-400 group-hover:text-accent-gold"></i>
                      </div>
                      <p class="text-sm font-bold text-white">Arrastra PDFs aquí o haz click</p>
                      <p class="text-xs text-gray-500 mt-2">PDF, DOCX (opcional), imágenes</p>
                      <input type="file" class="hidden" multiple>
                    </div>

                    <div class="glass-panel rounded-2xl overflow-hidden shadow-xl">
                        <table class="w-full text-left">
                            <thead class="bg-white/5 border-b border-white/5">
                                <tr>
                                    <th class="p-5 text-xs font-bold text-gray-400 uppercase tracking-wider">Archivo</th>
                                    <th class="p-5 text-xs font-bold text-gray-400 uppercase tracking-wider">Categoría</th>
                                    <th class="p-5 text-xs font-bold text-gray-400 uppercase tracking-wider">Fecha</th>
                                    <th class="p-5 text-right text-xs font-bold text-gray-400 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="docsTableBody" class="divide-y divide-white/5">
                                <!-- Rows -->
                            </tbody>
                        </table>
                    </div>
                 </div>
            </section>

            <!-- ================= VIEW: SEO ================= -->
            <section data-view="seo" id="view-seo" class="view-section view-hidden p-8 overflow-y-auto">
                <div class="max-w-4xl mx-auto space-y-8">
                    <h2 class="text-3xl font-display font-bold text-white mb-8">Optimización SEO</h2>

                    <div class="glass-panel p-8 rounded-3xl border-l-4 border-accent-gold">
                        <h3 class="text-lg font-bold text-white mb-6">Configuración Global</h3>
                        <div class="space-y-6">
                            <div class="group">
                                <label class="block text-xs font-bold text-accent-gold uppercase tracking-widest mb-2">Título del Sitio</label>
                                <input type="text" id="seoSiteTitle" class="w-full glass-input rounded-xl p-4 text-sm font-medium">
                            </div>
                            <div class="group">
                                <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 group-focus-within:text-white transition-colors">Descripción Meta</label>
                                <textarea id="seoSiteDescription" rows="3" class="w-full glass-input rounded-xl p-4 text-sm font-medium"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="glass-panel p-8 rounded-3xl">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-bold text-white">Por Página</h3>
                             <select id="seoPageSelect" class="bg-black/50 border border-white/20 text-xs rounded-lg p-2 text-white outline-none focus:border-accent-gold">
                                <option>Home (index)</option>
                                <option>Nosotros</option>
                            </select>
                        </div>
                        <div class="space-y-6">
                            <div class="group">
                                <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">Meta Title</label>
                                <input type="text" id="seoPageTitle" class="w-full glass-input rounded-xl p-4 text-sm">
                            </div>
                             <!-- Preview snippet Google style -->
                            <div class="bg-white p-4 rounded-xl border border-gray-200">
                                <p class="text-xs text-gray-500 mb-1">Vista previa en Google</p>
                                <h4 class="text-blue-800 text-lg hover:underline cursor-pointer truncate font-medium">Aisa Group | Global Investment Holdings</h4>
                                <p class="text-green-700 text-xs mb-1">https://aisagroup.com/...</p>
                                <p class="text-gray-600 text-sm line-clamp-2">Un holding familiar transformando la minería tradicional en energía renovable y desarrollo sostenible. Inversiones estratégicas en San Juan, San Luis...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

             <!-- VIEW: SETTINGS & AUDIT (Placeholders stylized) -->
             <section data-view="settings" id="view-settings" class="view-section view-hidden flex items-center justify-center p-8">
                 <div class="text-center p-12 glass-panel rounded-full aspect-square flex flex-col items-center justify-center max-w-sm mx-auto animate-pulse-glow">
                     <i class="fa-solid fa-gears text-5xl text-gray-700 mb-6"></i>
                     <h2 class="text-2xl font-bold text-white">Configuración</h2>
                     <p class="text-gray-500 mt-2 text-sm">Próximamente disponible.</p>
                 </div>
             </section>

             <section data-view="audit" id="view-audit" class="view-section view-hidden p-8">
                 <div class="max-w-5xl mx-auto">
                     <h2 class="text-3xl font-display font-bold text-white mb-8">Auditoría</h2>
                     <div class="glass-panel rounded-2xl overflow-hidden">
                        <table class="w-full text-left text-sm text-gray-400">
                            <tbody class="divide-y divide-white/5" id="auditTableBody">
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="p-4 w-12 text-center"><i class="fa-solid fa-circle-check text-emerald-500"></i></td>
                                    <td class="p-4 text-white font-medium">Publicación Exitosa</td>
                                    <td class="p-4 text-xs">Admin</td>
                                    <td class="p-4 text-right text-xs font-mono">Hace 2h</td>
                                </tr>
                                <tr class="hover:bg-white/5 transition-colors">
                                    <td class="p-4 w-12 text-center"><i class="fa-regular fa-save text-blue-500"></i></td>
                                    <td class="p-4 text-white font-medium">Borrador Guardado: Home</td>
                                    <td class="p-4 text-xs">Admin</td>
                                    <td class="p-4 text-right text-xs font-mono">Hace 3h</td>
                                </tr>
                            </tbody>
                        </table>
                     </div>
                 </div>
             </section>

        </div> <!-- End Viewport -->
    </main>

    <!-- 3. MODALS (PREMIUM) -->

    <!-- AUTH MODAL -->
    <div id="modalAuth" class="fixed inset-0 z-[100] bg-black/90 backdrop-blur-2xl flex items-center justify-center hidden opacity-0 transition-opacity duration-500">
        <div class="glass-panel p-10 rounded-3xl w-full max-w-md relative shadow-2xl border border-white/10 scale-95 transition-transform duration-300">
            <div class="text-center mb-10">
                <div class="w-16 h-16 rounded-2xl bg-gold-gradient shadow-glow mx-auto flex items-center justify-center text-3xl font-bold text-black font-display mb-6 transform rotate-3 hover:rotate-6 transition-transform">A</div>
                <h2 class="text-3xl font-display font-bold text-white mb-2">Bienvenido</h2>
                <p class="text-sm text-gray-400">Content Studio Secure Access</p>
            </div>
            <form id="authForm" class="space-y-5">
                <div class="space-y-2">
                    <label class="text-xs font-bold text-accent-gold uppercase tracking-widest ml-1">Email</label>
                    <input type="email" id="authEmail" class="w-full glass-input rounded-xl p-4 text-sm" placeholder="admin@aisagroup.com">
                </div>
                <div class="space-y-2">
                    <label class="text-xs font-bold text-accent-gold uppercase tracking-widest ml-1">Password</label>
                    <input type="password" id="authPassword" class="w-full glass-input rounded-xl p-4 text-sm">
                </div>
                <button type="submit" id="btnAuthSubmit" class="w-full py-4 bg-white text-black font-bold uppercase tracking-widest text-xs rounded-xl hover:bg-accent-gold transition-all shadow-lg hover:shadow-glow mt-6 transform hover:scale-[1.02]">
                    Iniciar Sesión
                </button>
            </form>
        </div>
    </div>

    <!-- GENERIC MODAL WRAPPER (Used for Confirm/Unsaved) -->
    <div id="modalConfirmPublish" class="fixed inset-0 z-[100] bg-black/80 backdrop-blur-md flex items-center justify-center hidden">
        <div class="glass-panel p-8 rounded-3xl w-full max-w-sm text-center border border-white/10 shadow-2xl transform scale-100 transition-all">
            <div class="w-20 h-20 rounded-full bg-accent-gold/10 text-accent-gold flex items-center justify-center mx-auto mb-6 text-3xl shadow-[0_0_20px_rgba(250,204,21,0.2)] animate-pulse-glow">
                <i class="fa-solid fa-rocket"></i>
            </div>
            <h3 class="text-2xl font-bold text-white mb-2 font-display">¿Desplegar?</h3>
            <p class="text-sm text-gray-400 mb-8 leading-relaxed">Estás a punto de actualizar el sitio en producción. Los cambios serán visibles globalmente.</p>
            <div class="flex gap-3">
                <button onclick="document.getElementById('modalConfirmPublish').classList.add('hidden')" class="flex-1 py-3 border border-white/10 rounded-xl text-gray-300 hover:bg-white/5 hover:text-white text-xs font-bold uppercase transition-colors">Cancelar</button>
                <button id="btnConfirmPublish" class="flex-1 py-3 bg-accent-gold text-black rounded-xl text-xs font-bold uppercase hover:bg-white hover:scale-105 transition-all shadow-lg">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- B4: MODALES FALTANTES -->

    <!-- MEDIA PICKER MODAL -->
    <div id="mediaPickerModal" class="fixed inset-0 z-[120] bg-black/80 backdrop-blur-md hidden">
      <div class="absolute inset-0" data-action="close-modal" data-target="mediaPickerModal"></div>
      <div class="absolute inset-0 flex items-center justify-center p-6">
        <div class="glass-panel w-full max-w-5xl rounded-3xl border border-white/10 overflow-hidden">
          <div class="flex items-center justify-between p-5 border-b border-white/10">
            <h3 class="font-bold text-white">Seleccionar Media</h3>
            <button class="w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 text-white"
              data-action="close-modal" data-target="mediaPickerModal">
              <i class="fa-solid fa-xmark"></i>
            </button>
          </div>
          <div class="p-6">
            <div id="mediaPickerGrid" class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-4"></div>
          </div>
          <div class="p-5 border-t border-white/10 flex justify-end gap-3">
            <button class="px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-white text-xs font-bold uppercase"
              data-action="close-modal" data-target="mediaPickerModal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- PDF PICKER MODAL -->
    <div id="pdfPickerModal" class="fixed inset-0 z-[120] bg-black/80 backdrop-blur-md hidden">
      <div class="absolute inset-0" data-action="close-modal" data-target="pdfPickerModal"></div>
      <div class="absolute inset-0 flex items-center justify-center p-6">
        <div class="glass-panel w-full max-w-4xl rounded-3xl border border-white/10 overflow-hidden">
          <div class="flex items-center justify-between p-5 border-b border-white/10">
            <h3 class="font-bold text-white">Seleccionar Documento</h3>
            <button class="w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 text-white"
              data-action="close-modal" data-target="pdfPickerModal">
              <i class="fa-solid fa-xmark"></i>
            </button>
          </div>
          <div class="p-6">
            <div class="glass-panel rounded-2xl overflow-hidden">
              <table class="w-full text-left">
                <thead class="bg-white/5 border-b border-white/5">
                  <tr>
                    <th class="p-4 text-xs font-bold text-gray-400 uppercase tracking-wider">Documento</th>
                    <th class="p-4 text-xs font-bold text-gray-400 uppercase tracking-wider">Categoría</th>
                    <th class="p-4 text-xs font-bold text-gray-400 uppercase tracking-wider">Fecha</th>
                    <th class="p-4 text-right text-xs font-bold text-gray-400 uppercase tracking-wider">Acción</th>
                  </tr>
                </thead>
                <tbody id="pdfPickerTableBody" class="divide-y divide-white/5"></tbody>
              </table>
            </div>
          </div>
          <div class="p-5 border-t border-white/10 flex justify-end gap-3">
            <button class="px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-white text-xs font-bold uppercase"
              data-action="close-modal" data-target="pdfPickerModal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- UNSAVED CHANGES MODAL -->
    <div id="modalUnsaved" class="fixed inset-0 z-[130] bg-black/80 backdrop-blur-md hidden">
      <div class="absolute inset-0"></div>
      <div class="absolute inset-0 flex items-center justify-center p-6">
        <div class="glass-panel w-full max-w-md rounded-3xl border border-white/10 p-8">
          <h3 class="text-xl font-bold text-white mb-2">Cambios sin guardar</h3>
          <p class="text-sm text-gray-400 mb-6">Tienes cambios sin guardar. ¿Seguro que quieres salir?</p>
          <div class="flex gap-3">
            <button id="btnStay" class="flex-1 py-3 rounded-xl bg-white/5 hover:bg-white/10 text-white text-xs font-bold uppercase">Quedarme</button>
            <button id="btnLeave" class="flex-1 py-3 rounded-xl bg-accent-gold text-black text-xs font-bold uppercase hover:bg-white">Salir</button>
          </div>
        </div>
      </div>
    </div>

    <!-- LOADING OVERLAY -->
    <div id="loadingOverlay" class="fixed inset-0 z-[200] bg-[#030303]/90 backdrop-blur-xl flex flex-col items-center justify-center hidden">
        <div class="relative w-20 h-20">
            <div class="absolute inset-0 rounded-full border-4 border-white/10"></div>
            <div class="absolute inset-0 rounded-full border-4 border-t-accent-gold animate-spin"></div>
        </div>
        <p class="text-xs font-bold text-white tracking-[0.3em] uppercase mt-8 animate-pulse">Procesando</p>
    </div>

    <!-- TOAST ROOT -->
    <div id="toastRoot" class="fixed bottom-8 right-8 z-[150] flex flex-col gap-3 pointer-events-none"></div>

    <!-- 4. HTML TEMPLATES (Estructura interna para JS) -->
    <template id="tplPageRow">
        <tr class="hover:bg-white/5 cursor-pointer group transition-colors border-b border-white/5 last:border-0" data-id="">
            <td class="p-3 pl-4">
                <div class="flex items-center gap-3">
                    <i class="fa-regular fa-file-lines text-gray-600 group-hover:text-accent-gold transition-colors"></i>
                    <div>
                        <div class="text-sm font-bold text-gray-200 group-hover:text-white transition-colors" data-field="name">Page Name</div>
                        <div class="text-[10px] text-gray-600 font-mono" data-field="slug">/slug</div>
                    </div>
                </div>
            </td>
        </tr>
    </template>

    <template id="tplBlockItem">
        <div class="p-3 m-1 bg-[#111] border border-white/5 rounded-xl cursor-move hover:border-accent-gold/50 hover:shadow-lg flex items-center justify-between group transition-all" data-id="">
            <div class="flex items-center gap-3 overflow-hidden">
                <i class="fa-solid fa-grip-vertical text-gray-700 cursor-grab hover:text-white transition-colors"></i>
                <div class="w-6 h-6 rounded bg-white/5 flex items-center justify-center text-[10px] text-gray-400 font-bold border border-white/5">BL</div>
                <span class="text-xs font-bold text-gray-300 truncate group-hover:text-white transition-colors" data-field="type">Hero</span>
            </div>
            <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0">
                <button class="w-6 h-6 rounded hover:bg-white/10 text-gray-400 hover:text-white flex items-center justify-center transition-colors"><i class="fa-solid fa-pen text-[10px]"></i></button>
            </div>
        </div>
    </template>

    <template id="tplNewsRow">
        <tr class="hover:bg-white/5 transition-colors group" data-id="">
            <td class="p-5 font-bold text-white group-hover:text-accent-gold transition-colors" data-field="title">Título</td>
            <td class="p-5 text-gray-500 text-xs" data-field="date">--/--/--</td>
            <td class="p-5"><span class="px-2 py-1 rounded bg-white/5 text-[10px] font-bold text-gray-400 border border-white/5" data-field="status">DRAFT</span></td>
            <td class="p-5 text-right"><button class="text-gray-500 hover:text-white transition-colors" data-action="edit-news"><i class="fa-solid fa-ellipsis"></i></button></td>
        </tr>
    </template>

    <!-- B5: tplDocRow faltante -->
    <template id="tplDocRow">
      <tr class="hover:bg-white/5 transition-colors group" data-id="">
        <td class="p-5 text-white font-bold" data-field="title">Documento</td>
        <td class="p-5 text-xs text-gray-400" data-field="category">Categoria</td>
        <td class="p-5 text-xs text-gray-500 font-mono" data-field="date">YYYY-MM-DD</td>
        <td class="p-5 text-right">
          <button class="text-gray-500 hover:text-white transition-colors" data-action="pick-doc">
            <i class="fa-solid fa-link"></i>
          </button>
        </td>
      </tr>
    </template>

    <template id="tplMediaCard">
        <div class="aspect-square bg-[#111] rounded-2xl border border-white/5 hover:border-accent-gold/50 relative group cursor-pointer overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1" data-id="">
            <img src="" class="w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-all duration-500 group-hover:scale-110" data-field="preview">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-3">
                <span class="text-[10px] text-white font-mono truncate w-full" data-field="name">file.jpg</span>
            </div>
        </div>
    </template>

    <template id="tplToast">
        <div class="pointer-events-auto bg-[#151515]/90 backdrop-blur border border-white/10 text-white px-5 py-4 rounded-2xl shadow-2xl flex items-center gap-4 w-96 transform transition-all duration-500 translate-x-10 opacity-0 hover:border-accent-gold/30">
            <div class="w-8 h-8 rounded-full bg-accent-gold/10 flex items-center justify-center flex-shrink-0 text-accent-gold">
                <i class="fa-solid fa-circle-info" data-field="icon"></i>
            </div>
            <div class="flex-1">
                <h4 class="text-sm font-bold" data-field="title">Notificación</h4>
                <p class="text-xs text-gray-400 mt-1 leading-snug" data-field="message">Mensaje...</p>
            </div>
            <button class="text-gray-600 hover:text-white transition-colors" onclick="this.parentElement.remove()"><i class="fa-solid fa-xmark"></i></button>
        </div>
    </template>

    <!-- 5. MAIN SCRIPT -->
    <script type="module" src="./app.js"></script>

</body>
</html>
